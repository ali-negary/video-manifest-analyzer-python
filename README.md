# 🎬 Video Manifest Analyzer

A Python CLI tool for parsing and analyzing video streaming manifests with **DASH** support.

[![Coverage](https://img.shields.io/badge/coverage-98%25-brightgreen)](https://github.com/ali-negary/video-manifest-analyzer-python)

## 📖 Overview

This tool extracts detailed stream information from **DASH manifests** (`.mpd` files):

* Codec
* Bitrate
* Resolution
* Language
* Number of audio channels

It is built with **Python 3.11** and features:

* Structured logging
* Robust error handling
* 90%+ test coverage
* Automated CI/CD with GitHub Actions + Codecov
* Pre-commit hooks for linting, formatting, and testing

## 🚀 Quick Start

```bash
# Clone and install
git clone https://github.com/ali-negary/video-manifest-analyzer-python.git
cd video-manifest-analyzer-python

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate   # On Windows: .venv\Scripts\activate

# Install dependencies (dev mode includes testing tools)
pip install -e ".[dev]"

# Analyze default DASH manifest
python -m src.cli analyze

# Analyze custom manifest
python -m src.cli analyze -p https://example.com/manifest.mpd
```

## 📝 Example Output

```json
{
  "audios": [
    {
      "codec": "mp4a.40.2",
      "bitrate": 128002,
      "channels": 2,
      "language": "en"
    }
  ],
  "videos": [
    {
      "codec": "avc1.640028",
      "bitrate": 2200000,
      "resolution": "1680x750"
    }
  ]
}
```

## ✨ Features

* **DASH Support** – MPD parsing with automatic format detection
* **Stream Analysis** – Extracts codec, bitrate, resolution, language, and channels
* **HTTP Fetching** – Built-in manifest downloading with timeout handling
* **JSON Output** – Clean, structured output format
* **90%+ Test Coverage** – via `pytest` + `pytest-cov`
* **CI/CD Pipeline** – Automated testing with GitHub Actions and Codecov
* **Pre-commit Hooks** – Enforced formatting, linting, and tests before commits

## 🛠 Development

```bash
# Run tests
pytest -v

# Run with coverage (threshold 90%)
pytest --cov=src --cov-config=.coveragerc --cov-report=term

# Run pre-commit hooks manually
pre-commit run --all-files
```

## 🔮 Future Enhancements

* **HLS Support** – Add M3U8 playlist parsing
* **Docker Support** – Containerized deployment with multi-stage builds
* **Multiple Output Formats** – XML, YAML, and CSV export options
* **Advanced Analytics** – Bandwidth analysis and stream quality metrics


---
**NOTE**: This README is generated by Claude AI.
